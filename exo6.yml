openapi : 3.0.0
info : 
  title : Profil de l'utilisateur 
  version:  1.0.0
paths : 
    /users/:
      post : 
        description: ajout d'un nouvel utilisateurs
        tags :
          - Users
        requestBody :
          required : true
          content :
            application/json :
              schema :
                 $ref: '#/components/schemas/CreateUserProfile'
        responses:  
          '200':
            description: utilisateur cr√©e 
            content : 
              application/json :
                schema :
                  $ref : '#/components/schemas/CreateUserProfile'


          
                 

    /users/{id} :
      get: 
        description: retourne l'utilisateur avec tous les informations le concernant
        tags :
          - Users
        parameters: 
          - $ref : '#/components/parameters/parametersId'
        responses:
          '200':
            description: retourne les informations sur l'utilisateur
            content: 
              application/json:
                schema :
                  type : array
                  items :
                    $ref : '#/components/schemas/UserProfile'
      
          

components:
  schemas:
    UserProfile:
      type: object
      required: 
        - id 
        - personalInfo
        - preferences
      properties:
        id : 
          type : integer
          format : int64
          description: id 
        personalInfo :
          $ref: '#/components/schemas/PersonalInfo'
        address:
          $ref : '#/components/schemas/Address'
        preferences :
          $ref: '#/components/schemas/Preferences'

    CreateUserProfile: 
      type : object
      required: 
        - personalInfo
        - preferences
      properties:
        personalInfo :
          $ref : '#/components/schemas/PersonalInfo'
        address :
          $ref : '#/components/schemas/Address'
        preferences :
          $ref : '#/components/schemas/Preferences'
    PersonalInfo :
      type: object
      required: 
        - first_name
        - last_name
        - birthdate
      properties: 
        first_name:
          type: string
          description: prenom utilisateur
        last_name:
           type : string
           description: nom utilisateur
        birthdate : 
            type: string
            format: date
    Address :
      type : object
      required: 
        - email 
        - address_street
        - address_city
        - address_country
        - address_postal_code
      properties:
        email: 
          type : string
          description: email
        address_city :
          type : string
          description: ville
        address_street :
          type: string
          description: l'adresse de rue
        address_country :
          type: string
          description: pays
        address_postal_code :
          type : string 
          description: carte postal
        needs_newsletter: 
          type : boolean
    Preferences :
      type : object
      properties: 
        language :
          type : string
          enum : [fr, eng, mg]
          default : fr
    
  parameters:
    parametersId:
      name : id
      in : path
      required: true
      schema : 
        type: integer 
        format : int64
        minimum : 1





